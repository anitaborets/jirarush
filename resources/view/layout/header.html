<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<!--/*@thymesVar id="authUser" type="com.javarush.jira.login.AuthUser"*/-->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js">
</script>

<div th:fragment="header">
    <header class="fixed-top d-none d-md-block header-nav">
        <nav class="navbar navbar-expand-lg navbar-dark" id="header">
            <div class="container">
                <div class="collapse navbar-collapse mt-2 mb-2">
                    <div>
                        <span th:text="#{lang.change}"></span>:
                        <select id="locales">
                            <option value=""></option>
                            <option value="en" th:text="#{lang.eng}"></option>
                            <option value="ru" th:text="#{lang.RU}"></option>
                            <option value="sk" th:text="#{lang.SK}"></option>
                        </select>
                        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js">
                        </script>
                        <script type="text/javascript">
                            $(document).ready(function() {
                                $("#locales").change(function () {
                                    var selectedOption = $('#locales').val();
                                    if (selectedOption != ''){
                                        window.location.replace('/?language=' + selectedOption);
                                    }
                                });
                            });
                        </script>
                    </div>

                    <ul class="navbar-nav m-auto">
                        <form class="d-flex" role="search">
                            <input class="form-control" type="search" placeholder="Search" aria-label="Search"
                                   id="header-search">
                        </form>
                        <li class="nav-item menu-item me-3 ms-4">
                            <a href="/doc" type="button" class="btn btn-yellow" target="_blank">Swagger API</a>
                        </li>
                    </ul>
                    <div th:if="${authUser} == null">
                        <a href="/view/login" type="button" class="btn btn-orange" th:text="#{label.login}"></a>
                    </div>



                    <th:block th:if="${authUser} != null">
                        <a href="/ui/profile" type="button" class="btn btn-orange"><i
                                class="fa-solid fa-address-card"></i> Profile</a>
                        <form action="/ui/logout" method="post" class="mx-2">
                            <button class="btn btn-yellow btn-orange" type="submit"><i class="fa-solid fa-sign-out"></i>
                                Logout
                            </button>
                        </form>
                    </th:block>
                </div>
            </div>
        </nav>
    </header>
</div>


</html>
